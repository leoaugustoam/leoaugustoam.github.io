= Processamento Digital de Imagens

Leonardo Augusto de Aquino Marques <leoaugustoam@gmail.com>

== Unidade 1

=== Manipulando pixels em uma imagem
Utilizando o programa https://github.com/leoaugustoam/leoaugustoam.github.io/blob/master/codigos/pixels.cpp[exemplo/pixels.cpp] como referência, foi implementado o programa regions.cpp. Esse programa solicita ao usuário as coordenadas x e y de dois pontos P1 e P2, localizados dentro dos limites do tamanho da imagem e exibir o que lhe for fornecida. Entretanto, a região definida pelo retângulo de vértices opostos definidos pelos pontos P1 e P2 será exibida com o negativo da imagem na região correspondente.

Inicialmente, a imagem é carregada e suas dimensões são verificadas, de modo a mostrar ao usuario quais pixels ele pode modificar. Logo apos, deve ser digitado as cordenadas do ponto 1 (X1 e Y1) e ponto 2 (X2 e Y2), para que a area definida pelo retângulo destes vertices (P1 e P2) seja negativada, feito isto, a imagem é percorrida por 2 laços em que negativa a imagem na area definida, fazendo com que cada pixel, seja invertido (255 - valor_atual_do_pixel).


 
[source,cpp]
-----------------
#include <iostream>
#include <opencv2/opencv.hpp>

using namespace std;
using namespace cv;

int main(int, char**) {
	
	int x1,x2,y1,y2;
	Mat image;
	Size size;
	
	image = cv::imread("foto.jpg", CV_LOAD_IMAGE_GRAYSCALE);

	if(!image.data){
    		cout << "Imagem não abriu" << endl;
	}

	//imshow("image", image);
	size = image.size();
	
	cout << "Sua imagem tem "<< size.height <<"x" << size.width << endl;
	cout << "Digite os pontos da area que deseja negativar!\nPrimeiro X1:\n";
	cin >> x1;
	cout << "Agora Y1\n";
	cin >> y1;
	cout << "Agora X2\n";
	cin >> x2;
	cout << "Agora Y2\n";
	cin >> y2;

	for(int x=x1; x<=x2; x++) {
		for(int y=y1; y<=y2; y++) {
			image.at<uchar>(x,y)= 255 - image.at<uchar>(x,y);
		}
	}
	//namedWindow("Trab 1",WINDOW_AUTOSIZE);	
	imshow("Trabalho 1", image);
	waitKey();
  
  return 0;
}

-----------------

.Foto original
[#img-sunset]
[caption="Figure 1: "]
image::https://github.com/leoaugustoam/leoaugustoam.github.io/blob/master/imagens/biel.png?raw=true[Sunset,256,256]

.Foto modificada
[#img-sunset]
[caption="Figure 2: "]
image::https://i.imgur.com/AEkqoRn.jpg[Sunset,256,256]

=== Invertendo regiões
O programa deve trocar os quadrantes em diagonal na imagem. Inicialmente como podemos ver no código, a imagem é dividida em 4 partes iguais (como sabemos que a imagem tem 256x256, a imagem é cortada nos pontos {(0,0),(128,0),(0,128),(128,128)}), e construimos uma nova imagem colando em cada quadrante, uma parte cortada anteriormente.


 
[source,cpp]
-----------------
#include <iostream>
#include <cv.h>
#include <highgui.h>
#include <opencv2/imgproc/imgproc.hpp>
#include <opencv2/opencv.hpp>
#include <stdlib.h>

using namespace cv;
using namespace std;

int main(int, char**){
  Mat image(256,256,CV_8UC1);
  Mat image2(256,256,CV_8UC1);
  image= imread("biel.png",CV_LOAD_IMAGE_GRAYSCALE);
  if(!image.data){
	  cout << "A imagem nao abriu" << endl;
  }
 //namedWindow("janela",WINDOW_AUTOSIZE);
  Mat quadrado1(image, Rect(0,0,128,128));
  Mat quadrado2(image, Rect(128,0,128,128));
  Mat quadrado3(image, Rect(0,128,128,128));
  Mat quadrado4(image, Rect(128,128,128,128));

  quadrado1.copyTo(image2(Rect(128, 128, 128, 128)));
  quadrado2.copyTo(image2(Rect(128, 0, 128, 128)));
  quadrado3.copyTo(image2(Rect(0, 128, 128, 128)));
  quadrado4.copyTo(image2(Rect(0, 0, 128, 128)));

  imshow("Trab2", image2);
  imwrite("bieltrocado.png", image2);
  waitKey();
return 0;
}

}

-----------------

.Exemplo do código acima
[#img-sunset]
[caption="Figure 3: "]
image::https://github.com/leoaugustoam/leoaugustoam.github.io/blob/master/imagens/bieltrocado2.png?raw=true[Sunset,256,256]


Modificando os quadrantes da colagem:


[source,cpp]
-----------------

  quadrado1.copyTo(image2(Rect(128, 128, 128, 128)));
  quadrado2.copyTo(image2(Rect(0, 128, 128, 128)));
  quadrado3.copyTo(image2(Rect(128, 0, 128, 128)));
  quadrado4.copyTo(image2(Rect(0, 0, 128, 128)));


-----------------

.Exemplo do código acima com modificação dos quadrantes
[#img-sunset]
[caption="Figure 4: "]
image::https://github.com/leoaugustoam/leoaugustoam.github.io/blob/master/imagens/bieltrocado.png?raw=true[Sunset,256,256]











About AsciiDocLIVE
~~~~~~~~~~~~~~~~~~
AsciiDocLIVE is currently in *beta* stage. This means there are likely a _lot_
of bugs, and even more ways to make it better.

If you have any questions, suggestions or other feedback, please
feel free to
https://github.com/jichu4n/asciidoclive/issues/new[create an issue on pass:[<i class="fa fa-github"></i>] GitHub^].
Hope
to hear from you soon!


[[cheat-sheet]]
AsciiDoc Mini Cheat Sheet
~~~~~~~~~~~~~~~~~~~~~~~~~

To help you get started, here're some snippets from the
http://powerman.name/doc/asciidoc[AsciiDoc Cheet Sheet^]. Feel free to poke
around :)

Text Styles
^^^^^^^^^^^
* normal, _italic_, *bold*, +mono+.
* ``double quoted'', `single quoted'.
* normal, ^super^, ~sub~.
* `passthru *bold*`

Tables
^^^^^^
.An example table
[options="header,footer"]
|=======================
|Col 1|Col 2      |Col 3
|1    |Item 1     |a
|2    |Item 2     |b
|3    |Item 3     |c
|6    |Three items|d
|=======================

Lists
^^^^^

* Q: How did the programmer die in the shower?
  A: He read the shampoo instructions:

  . Lather, rinse.
  . Repeat.

* There are only 10 kinds of people in this world:
  - Those who understand binary.
  - Those who don't.

Misc
^^^^

* Code listings:
+
[source,python]
-----------------
#!/usr/bin/env python
import antigravity
try:
  antigravity.fly()
except FlytimeError as e:
  # um...not sure what to do now.
  pass
-----------------

* Quotes:
+
[quote,"Charles Dickens","A Tale of Two Cities"]
It was the best of times, it was the worst of times, it was the age of wisdom,
it was the age of foolishness...

* Links:
** https://github.com/leoaugustoam/leoaugustoam.github.io/blob/master/codigos/pixels.cpp[pixels] is awesome!

* Images:
+
.A mountain sunset
[#img-sunset]
[caption="Figure 1: ",link=http://www.flickr.com/photos/javh/5448336655]
image::https://i.imgur.com/AEkqoRn.jpg[Sunset,300,200]
.A mountain sunset
[#img-sunset]
[caption="Figursdsdsdse 1: ",link=http://www.flickr.com/photos/javh/5448336655]
image::https://i.imgur.com/AEkqoRn.jpg[Sunset,300,200]

.A mountain sunset
[#img-not_bad]
[caption="Figure 2: "]
image:https://i.imgur.com/AEkqoRn.jpg[not_bad,128,128]

* Videos:
+
video::th_H1gixMEE[youtube]

* Pass-through: pass:[<div align="center"><b>pass through content</b></div>]

